#!/bin/env sh

packages_arg="++"
cd "$(dirname "$0")"

# --- Bash
ln -sf "$PWD/bash/.bashrc" "$HOME/.bashrc"
# --- Kitty
ln -sf "$PWD/kitty/kitty.conf" "$HOME/.config/kitty/kitty.conf"
# --- Nano
ln -sf "$PWD/nano/.nanorc" "$HOME/.nanorc"
ln -sf "$PWD/nano/.nanotc" "$HOME/.nanotc"
rm -f "$PWD/nano/.nanotc/.nanotc" # No idea why I get a link inside there.

for arg in "$@"; do
    if [ "$arg" = "$packages_arg" ]; then
        sudo apt update
        sudo apt install \
            build-essential \
            git \
            valgrind \
            entr \
            dmd \
            ldc \
            kitty \
            wine \
            gimp \
            inkscape \
            ascii \
            cloc \
            dos2unix
        continue
    fi
    echo "What do you mean by \"$arg\"? This is not funny."
    break
done

echo "Done!"
